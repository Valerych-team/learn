Данная репа служит хранилищем для обучающих материалов.

Что бы начать чему то учиться, нужно знать:
1. Основы работы с Linux. Если вы не знаете, что такое git checkout, идите учите.
2. Что такое Nginx, Vagrant, Mysql, PHP, Docker. Если не знаете, рано вам еще. Подучитесь.
3. Если вы не знаете что такое апстрим, то вот вам: https://nginx.org/ru/docs/http/ngx_http_upstream_module.html

Весь тестовый стенд раскатывается вагрантом из Vagrantfile(пожалуйста).

На F1, F2, B1, B2 и nginx, устанавливается nginx. У F1 и F2 есть один апстрим с двумя серверами (B1, B2). У B1 и B2, тоже один апстрим (Nginx), у NGINX апстримом будет Service , на котором работает WordPress например. Базой для него являются sqlmaster и sqlslave, соответсвенно с master-slave репликацией.

F1 - F2 это сервера фронты. На них работает nginx. Dnsом (roundrobin google) на них указано имя test.lan.

B1 - B2 это сервера, которые работают с бэкэндом. Они по факту не нужны, но для понятия как оно все работает, не помешают. На них так же стоит NGINX.
NGINX - это основной веб-сервер бэкэнда. На нем стоит докер, в котором работает NGINX. На нем работает вся логика.

SQLMASTER - сервер DB. На нем есть база. Он является мастером.

SQLSLAVE - сервер DB. На нем есть база, которая реплицируется с SQLMASTER.

SERVICE - собственно сам сервис (сервис - это допустим тот же вордпресс). Неважно что здесь стоит, главное что бы отдавало. Пусть будет апач с пхп7.4


Итог должен быть следующий: при заходе на https://test.lan, у вас должен открыться ваш рабочий вордпресс, установленный на service. Что бы все прошло по цепочке. При этом, если вы положите B2 или F2, все должно работать. Так же при выключении SQLMASTER тоже все должно работать.

Общая схема вот:

![Schema](https://github.com/Valerych-team/learn/raw/master/img/schema.jpg)
